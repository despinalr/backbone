function HelloController($scope){$scope.greeting={text:"Hello"},$scope.add=function(){$scope.count+=1}}$(document).on("ready",function(){$("#conectar").click(function(){alert("hola mundo")}),utils.loadTemplate(["HomeView","PersonaListItemView","PersonaView"],function(){app=new AppRouter,Backbone.history.start()})}),window.Persona=Backbone.Model.extend({urlRoot:"personas",idAttribute:"_id",initialize:function(){this.validators={}},validateItem:function(){return{isValid:!0}},validateAll:function(){return{isValid:!0}},save:function(attrs,options){options||(options={}),delete this.attributes._id,Backbone.Model.prototype.save.call(this,attrs,options)},defaults:{_id:null,Cedula:0,Nombre:"",Apellido:""}}),window.PersonaCollection=Backbone.Collection.extend({model:Persona,url:"personas"}),window.AppRouter=Backbone.Router.extend({routes:{"":"home",products:"list",addproduct:"add","editproduct/:id":"edit"},initialize:function(){},home:function(){this.home_view=new HomeView,$("#content").html(this.home_view.el)},list:function(){var personList=new PersonaCollection;personList.fetch({success:function(){$("#personaslst").html(new PersonaListView({model:personList}).el)},error:function(collection,response){console.log(response)}}).complete(function(){console.log("done")})},add:function(){var person=new Persona;$("#content").html(new PersonaView({model:person}).el)},edit:function(id){var person=new Persona({_id:id});person.fetch({success:function(){$("#content").html(new PersonaView({model:person}).el)}})}}),window.utils={loadTemplate:function(views,callback){var deferreds=[];$.each(views,function(index,view){window[view]?deferreds.push($.get(view+".html",function(data){window[view].prototype.template=_.template(data)})):alert(view+" not found")}),$.when.apply(null,deferreds).done(callback)}},window.HomeView=Backbone.View.extend({initialize:function(){this.render()},render:function(){return $(this.el).html(this.template()),this}}),window.PersonaListView=Backbone.View.extend({initialize:function(){this.render()},render:function(){var personList=this.model.models,self=$(this.el);return $.each(personList,function(index,person){self.append(new PersonaListItemView({model:person}).render().el)}),this}}),window.PersonaListItemView=Backbone.View.extend({initialize:function(){this.model.bind("change",this.render,this),this.model.bind("destroy",this.close,this)},render:function(){return $(this.el).html(this.template(this.model.toJSON())),this}}),window.PersonaView=Backbone.View.extend({initialize:function(){this.render()},render:function(){var person=this.model,self=$(this.el);return self.html(this.template(person.toJSON())),this},events:{change:"change","click .save":"save","click .cancel":"canceladd","click .delete":"delete"},change:function(event){var target=event.target,change={};change[target.name]=target.value,this.model.set(change)},save:function(){this.model.save(null,{success:function(){app.navigate("products",!0),console.log("Success! Product saved successfully")},error:function(){console.log("Error An error occurred while trying to save this item")}})},canceladd:function(){window.history.back()},"delete":function(){return this.model.destroy({success:function(){app.navigate("products",!0),console.log("Product deleted successfully")}}),!1}});